apiVersion: secrets-store.csi.x-k8s.io/v1alpha1
kind: SecretProviderClass
metadata:
  name: aws-secrets-manager-db-config
  namespace: dev
spec:
  provider: aws
  parameters:
    objects: |
      - objectName: "medihub/dev/db-config"
        objectType: "secretsmanager"
  secretObjects:
    - secretName: aws-secrets-manager-db-config
      type: Opaque
      data:
        - objectName: "medihub/dev/db-config"
          key: mariadb.host
        - objectName: "medihub/dev/db-config"
          key: mariadb.port
        - objectName: "medihub/dev/db-config"
          key: db.name
        - objectName: "medihub/dev/db-config"
          key: db.password
        - objectName: "medihub/dev/db-config"
          key: mongodb.host
        - objectName: "medihub/dev/db-config"
          key: mongodb.port
        - objectName: "medihub/dev/db-config"
          key: redis.host
        - objectName: "medihub/dev/db-config"
          key: redis.port

---
apiVersion: secrets-store.csi.x-k8s.io/v1alpha1
kind: SecretProviderClass
metadata:
  name: aws-secrets-manager-openai-config
  namespace: dev
spec:
  provider: aws
  parameters:
    objects: |
      - objectName: "medihub/dev/openai-config"
        objectType: "secretsmanager"
  secretObjects:
    - secretName: aws-secrets-manager-openai-config
      type: Opaque
      data:
        - objectName: "medihub/dev/openai-config"
          key: openai.api.key
        - objectName: "medihub/dev/openai-config"
          key: openai.model
        - objectName: "medihub/dev/openai-config"
          key: openai.api.url
        - objectName: "medihub/dev/openai-config"
          key: openai.api.key.bot

---
apiVersion: secrets-store.csi.x-k8s.io/v1alpha1
kind: SecretProviderClass
metadata:
  name: aws-secrets-manager-s3-config
  namespace: dev
spec:
  provider: aws
  parameters:
    objects: |
      - objectName: "medihub/dev/s3-config"
        objectType: "secretsmanager"
  secretObjects:
    - secretName: aws-secrets-manager-s3-config
      type: Opaque
      data:
        - objectName: "medihub/dev/s3-config"
          key: s3.credentials.access-key
        - objectName: "medihub/dev/s3-config"
          key: s3.credentials.secret-key
        - objectName: "medihub/dev/s3-config"
          key: s3.credentials.region
        - objectName: "medihub/dev/s3-config"
          key: s3.bucket

---
apiVersion: secrets-store.csi.x-k8s.io/v1alpha1
kind: SecretProviderClass
metadata:
  name: aws-secrets-manager-elasticsearch-config
  namespace: dev
spec:
  provider: aws
  parameters:
    objects: |
      - objectName: "medihub/dev/elasticsearch-config"
        objectType: "secretsmanager"
  secretObjects:
    - secretName: aws-secrets-manager-elasticsearch-config
      type: Opaque
      data:
        - objectName: "medihub/dev/elasticsearch-config"
          key: elastic_uris
        - objectName: "medihub/dev/elasticsearch-config"
          key: elastic_user
        - objectName: "medihub/dev/elasticsearch-config"
          key: elastic_password

---
apiVersion: secrets-store.csi.x-k8s.io/v1alpha1
kind: SecretProviderClass
metadata:
  name: aws-secrets-manager-other-config
  namespace: dev
spec:
  provider: aws
  parameters:
    objects: |
      - objectName: "medihub/dev/other-config"
        objectType: "secretsmanager"
  secretObjects:
    - secretName: aws-secrets-manager-other-config
      type: Opaque
      data:
        - objectName: "medihub/dev/other-config"
          key: SECRET_KEY
        - objectName: "medihub/dev/other-config"
          key: user.default-password

---
apiVersion: secrets-store.csi.x-k8s.io/v1alpha1
kind: SecretProviderClass
metadata:
  name: aws-secrets-manager-newsapi-config
  namespace: dev
spec:
  provider: aws
  parameters:
    objects: |
      - objectName: "medihub/dev/newsapi-config"
        objectType: "secretsmanager"
  secretObjects:
    - secretName: aws-secrets-manager-newsapi-config
      type: Opaque
      data:
        - objectName: "medihub/dev/newsapi-config"
          key: newsapi.api-key
        - objectName: "medihub/dev/newsapi-config"
          key: newsapi.base-url